<!DOCTYPE html><html lang="en"><head><title>docwhat</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><style>/* temporary rule, since teach-parser uses markdown-js,
   which does not wrap code blocks in <pre>
*/
code {
    white-space: pre-wrap;
}

.sidebar { 
    position: fixed;
    top: 61px;
    width: 250px;
}

.with-sidebar {
    position: relative;
    margin-left: 290px;
    max-width: 650px;
}

.menu-root {
    list-style-type: none;
    line-height: 1.8em;
}

.menu-sub {
    list-style-type: none;
    line-height: 1.8em;
    padding-left: 1em;
}

.dc-lite-example {
    border: solid lightgrey 1px;
    /*
    border-top: solid lightgrey 1px;
    border-bottom: solid lightgrey 1px;
    */
    border-radius: 10px;
    padding: 15px;
    width: 657px;
    margin-bottom: 25px;
    margin-top: 10px;
}

.instructions h3 {
    font-size: 20px;
}

/*
.section-link {
    font-size: .85em;
}
*/

.chapter-link {
    font-size: 1.15em;
}

a.active {
    color: black;
}

.menu-root li:not(.active) .menu-sub{
    display: none;
}

li.active .chapter-link {
    color: black;
}


</style></head><body><h1>DocWhatttt</h1><div class="sidebar"><ul class="menu-root menu-chapters"><li><a class="chapter-link" href="testing-objects.html">Testing objects</a><ul class="menu-sub"><li><a class="section-link" href="#variable-assignment">variable assignment</a></li><li><a class="section-link" href="#variable-assignment-and-output">variable assignment and output</a></li><li><a class="section-link" href="#data.frame">data.frame</a></li><li><a class="section-link" href="#list">list</a></li></ul></li><li><a class="chapter-link" href="testing-functions-and-packages.html">Testing functions and packages</a><ul class="menu-sub"><li><a class="section-link" href="#function-call">function call</a></li><li><a class="section-link" href="#function-call-result">function call result</a></li><li><a class="section-link" href="#import-library">import library</a></li><li><a class="section-link" href="#linear-model-w/-formula,-or-x-and-y">linear model w/ formula, or x and y</a></li><li><a class="section-link" href="#function-pipe">function pipe</a></li><li><a class="section-link" href="#plotting-w/-ggplot">plotting w/ ggplot</a></li></ul></li><li><a class="chapter-link" href="control-flow.html">Control flow</a><ul class="menu-sub"><li><a class="section-link" href="#for-loop">for loop</a></li><li><a class="section-link" href="#while-loop">while loop</a></li><li><a class="section-link" href="#if-statement-within-for-loop">if statement within for loop</a></li><li><a class="section-link" href="#if-else-if-statement">if else if statement</a></li></ul></li><li><a class="chapter-link" href="user-defined-functions.html">User defined functions</a><ul class="menu-sub"><li><a class="section-link" href="#simple-function">simple function</a></li></ul></li><li class="active"><a class="chapter-link" href="advanced-topics.html">Advanced topics</a><ul class="menu-sub"><li><a class="section-link" href="#testing-and-randomness">testing and randomness</a></li><li><a class="section-link" href="#test-piece-of-code-flexibly">test piece of code flexibly</a></li></ul></li></ul></div><div class="container with-sidebar" id="docwhat"><h2><a name="testing-and-randomness"></a>testing and randomness</h2><div class="assignment"><p>Currently, <code>testwhat</code> has the limitation that when you use the following SCTs</p>

<ul><li><code>check_expr</code> followed by or <code>check_result() %&gt;% check_equal()</code></li><li><code>test_expression_output</code> (deprecated)</li><li><code>test_expression_result</code> (deprecated)</li></ul>

<p>the random generator in the solution environment can get thrown out of sync with the
student environment. In order to overcome this, you can set the random seed before running <code>check_expr</code>.</p>

<p>This is illustrated in the exercise below.</p></div><div class="dc-lite-example"><dc-lite-editor exercise-data="{&quot;chunkLines&quot;:[18,20,22,27,33,39],&quot;tags&quot;:[&quot;instructions&quot;,&quot;hint&quot;,&quot;pre_exercise_code&quot;,&quot;sample_code&quot;,&quot;solution&quot;,&quot;sct&quot;],&quot;number&quot;:1,&quot;type&quot;:&quot;NormalExercise&quot;,&quot;lang&quot;:&quot;r&quot;,&quot;xp&quot;:100,&quot;skills&quot;:[1],&quot;key&quot;:&quot;7bc2fc1cef&quot;,&quot;title&quot;:&quot;testing and randomness&quot;,&quot;assignment&quot;:&quot;&lt;p&gt;Currently, &lt;code&gt;testwhat&lt;/code&gt; has the limitation that when you use the following SCTs&lt;/p&gt;\n\n&lt;ul&gt;&lt;li&gt;&lt;code&gt;check_expr&lt;/code&gt; followed by or &lt;code&gt;check_result() %&amp;gt;% check_equal()&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;test_expression_output&lt;/code&gt; (deprecated)&lt;/li&gt;&lt;li&gt;&lt;code&gt;test_expression_result&lt;/code&gt; (deprecated)&lt;/li&gt;&lt;/ul&gt;\n\n&lt;p&gt;the random generator in the solution environment can get thrown out of sync with the\nstudent environment. In order to overcome this, you can set the random seed before running &lt;code&gt;check_expr&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;This is illustrated in the exercise below.&lt;/p&gt;&quot;,&quot;instructions&quot;:&quot;&quot;,&quot;hint&quot;:&quot;&quot;,&quot;pre_exercise_code&quot;:&quot;\n&quot;,&quot;sample_code&quot;:&quot;# sample and solution code are identical\nx &lt;- rnorm(100)\n&quot;,&quot;solution&quot;:&quot;# sample and solution code are identical\nx &lt;- rnorm(100)\n&quot;,&quot;sct_start_line&quot;:39,&quot;sct&quot;:&quot;# Note remove set.seed(42) and submit to see issue--it will fail :(.\nex() %&gt;% check_expr('set.seed(42); rnorm(100)') %&gt;% check_result() %&gt;% check_equal()\n\n# Similarly with test_expression_result\n# test_expression_result('set.seed(42); rnorm(100)')\n\n&quot;,&quot;parseInfo&quot;:{&quot;pre_exercise_code&quot;:{&quot;codeStart&quot;:23},&quot;sample_code&quot;:{&quot;codeStart&quot;:28},&quot;solution&quot;:{&quot;codeStart&quot;:34},&quot;sct&quot;:{&quot;codeStart&quot;:40}},&quot;anchor&quot;:&quot;testing-and-randomness&quot;,&quot;url&quot;:&quot;advanced-topics.html/#testing-and-randomness&quot;}"></dc-lite-editor><div class="instructions"><h3>Instructions</h3></div></div><h2><a name="test-piece-of-code-flexibly"></a>test piece of code flexibly</h2><div class="assignment"><p>When code is not stored as a variable, <code>testwhat</code> is limited in how it can evaluate that code.
For example if we have <code>a &lt;- 1:10</code> it can be flexibly tested using <code>check_expr</code>. In this case,
if we want the max of a to be <code>10</code>, then we can use <code>check_expr(&quot;max(a) == 10&quot;)</code>.</p>

<p>Notice that using <code>check_expr</code> involved referring to <code>a</code>. How could we perform a similar test
if we only had <code>1:10</code>? In general, we can&apos;t. When creating an exercise sometimes it is useful
to assign something that you want to grade flexibly to a variable.</p>

<p>When assigning it to a variable absolutely will not work, but you still want very flexible testing,
you may be able to use <code>check_code</code> with complex regular expressions.</p></div><div class="dc-lite-example"><dc-lite-editor exercise-data="{&quot;chunkLines&quot;:[63,70,72,77,87,97],&quot;tags&quot;:[&quot;instructions&quot;,&quot;hint&quot;,&quot;pre_exercise_code&quot;,&quot;sample_code&quot;,&quot;solution&quot;,&quot;sct&quot;],&quot;number&quot;:2,&quot;type&quot;:&quot;NormalExercise&quot;,&quot;lang&quot;:&quot;r&quot;,&quot;xp&quot;:100,&quot;skills&quot;:[1],&quot;key&quot;:&quot;252e145096&quot;,&quot;title&quot;:&quot;test piece of code flexibly&quot;,&quot;assignment&quot;:&quot;&lt;p&gt;When code is not stored as a variable, &lt;code&gt;testwhat&lt;/code&gt; is limited in how it can evaluate that code.\nFor example if we have &lt;code&gt;a &amp;lt;- 1:10&lt;/code&gt; it can be flexibly tested using &lt;code&gt;check_expr&lt;/code&gt;. In this case,\nif we want the max of a to be &lt;code&gt;10&lt;/code&gt;, then we can use &lt;code&gt;check_expr(&amp;quot;max(a) == 10&amp;quot;)&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Notice that using &lt;code&gt;check_expr&lt;/code&gt; involved referring to &lt;code&gt;a&lt;/code&gt;. How could we perform a similar test\nif we only had &lt;code&gt;1:10&lt;/code&gt;? In general, we can&amp;apos;t. When creating an exercise sometimes it is useful\nto assign something that you want to grade flexibly to a variable.&lt;/p&gt;\n\n&lt;p&gt;When assigning it to a variable absolutely will not work, but you still want very flexible testing,\nyou may be able to use &lt;code&gt;check_code&lt;/code&gt; with complex regular expressions.&lt;/p&gt;&quot;,&quot;instructions&quot;:&quot;&lt;ul&gt;&lt;li&gt;the sample_code shows a difficult to test exercise, where the argument &lt;code&gt;ylim&lt;/code&gt; has a number\nof solutions.&lt;/li&gt;&lt;li&gt;the solution code shows that by having them create an intermediate variable &lt;code&gt;y_lim&lt;/code&gt;, we can\nuse &lt;code&gt;check_expr&lt;/code&gt; to perform a flexible test.&lt;/li&gt;&lt;/ul&gt;&quot;,&quot;hint&quot;:&quot;&quot;,&quot;pre_exercise_code&quot;:&quot;\n&quot;,&quot;sample_code&quot;:&quot;# Example of difficult to test exercise\ny &lt;- rnorm(100)\n# the ylim arg below is hard to test, if you\n# just want it to be anything of magnitude greater\n# than 3 on either side\nplot(y, ylim = c(-3, 3))\n&quot;,&quot;solution&quot;:&quot;# Example of of workaround\ny &lt;- rnorm(100)\n# Have students define intermediate variable \ny_lim &lt;- c(-3, 3)\n# Pass that variable to plot\nplot(y, ylim = y_lim)\n&quot;,&quot;sct_start_line&quot;:97,&quot;sct&quot;:&quot;# make sure they defined y_lim\nex() %&gt;% check_object('y_lim')\n\n# make sure y_lim matches instructions\nex() %&gt;% check_expr('all(abs(y_lim) &gt;= 3)')\n\n# make sure they specified a ylim argument\nex() %&gt;% check_function('plot') %&gt;% check_arg('ylim')\n\n&quot;,&quot;parseInfo&quot;:{&quot;pre_exercise_code&quot;:{&quot;codeStart&quot;:73},&quot;sample_code&quot;:{&quot;codeStart&quot;:78},&quot;solution&quot;:{&quot;codeStart&quot;:88},&quot;sct&quot;:{&quot;codeStart&quot;:98}},&quot;anchor&quot;:&quot;test-piece-of-code-flexibly&quot;,&quot;url&quot;:&quot;advanced-topics.html/#test-piece-of-code-flexibly&quot;}"></dc-lite-editor><div class="instructions"><h3>Instructions</h3><ul><li>the sample_code shows a difficult to test exercise, where the argument <code>ylim</code> has a number
of solutions.</li><li>the solution code shows that by having them create an intermediate variable <code>y_lim</code>, we can
use <code>check_expr</code> to perform a flexible test.</li></ul></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/mode-python.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/mode-r.js"></script><script src="build.js"></script><script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script></body></html>